function map = splitCMap(data, mapLen, breakval)% SPLITCMAP - makes a colormap with an obvious break at zero%minRed=.4;minGreen=.4;if (nargin<3) breakVal=0; endif (nargin<2) mapLen=256; endymax = mmax(data);ymin = mmin(data);% find CMap index of the break pointlutBreak = round((breakVal-ymin).*((mapLen-1)./(ymax-ymin)) +1);map = zeros(mapLen, 3);%keyboard;map(1:lutBreak,1) = flipud((linspace(minRed,1,lutBreak))');map(lutBreak+1:mapLen,2) = (linspace(minGreen,1,mapLen-lutBreak))';