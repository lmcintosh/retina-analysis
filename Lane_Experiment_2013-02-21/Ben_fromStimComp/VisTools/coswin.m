function W = coswin(n, ir, or)% COSWIN - makes a circular window with cosine taper%% usage:%	COSWIN(N, IR, OR) makes a raised pillbox inside a matrix of size N with%   cosinusoidal taper from IR (inside radius) to OR.%   IR should be smaller than OR (obviously), and OR should be smaller than%   N/2%% see also: % % Lawrence K. Cormack% history:% 11/16/00   lkc Wrote it.% 7/7/11   lkc Cleaned up the comments & changed var names.if (or)> n/2	error('radii must be < half the window diameter');endW = ones(n);r2rad = (pi/2).*(1/(or-ir)); % circle radius to radians [r, c] = find(W);	% get x and y coords.r0 = r - n/2;		% ... and shift re. originc0 = c - n/2;h = sqrt(r0.^2 + c0.^2);points = find( (h>ir) & (h<=or) );vals =  cos( (h(points)-ir) .* r2rad);points2 = find(h>or);vals2 = 0.*h(points2);points = [points; points2];vals = [vals; vals2];%keyboardfor k=1:size(points)		W( r(points(k)), c(points(k)) ) = vals(k);end