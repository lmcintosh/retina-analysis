function map = gammainv(nentries, gamma, xo)% GAMMAINV	 makes a gamma corrected ramp%	map = gammainv(nentries, [gamma], [xo]) % 	builds an inverse gamma table of the specified length, usually 256.% 	this is kludged together right now.  be patient.%	Gammainv makes a map suitable for screen(setclut), i.e. in the%	range (0-255).  If you want to use the output for a MATLAB colormap,%	normalize the values to the range (0-1).if nargin == 2	xo = 0;elseif nargin == 1 	xo = 0;	gamma = 2.4;	% measured by lkc, 12/14/99, for the sony in Mez 108elseif nargin == 0	xo = 0;	gamma = 2.4;	% measured by lkc, 12/14/99, for the sony in Mez 108	nentries = 256;elseif nargin ~= 3	error('GAMMAINV: must have zero to three arguments');endx = linspace(0, 1, nentries);%y = x.^(1./gamma) - xo;y = (1-xo).*(x.^(1./gamma)) - xo;map = halfwave(round((nentries-1).*y)');map = [map map map]; 